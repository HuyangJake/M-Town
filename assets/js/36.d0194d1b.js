(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{344:function(t,s,a){"use strict";a.r(s);var e=a(0),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"èƒŒæ™¯"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#èƒŒæ™¯"}},[t._v("#")]),t._v(" èƒŒæ™¯")]),t._v(" "),a("p",[t._v("é¡¹ç›®ä¸­ç”¨åˆ°äº†æœ¬åœ°ç™»å½•å­˜å‚¨cookieï¼Œå†è¿›è¡ŒwebViewè¯·æ±‚æ—¶é—´å¸¦ä¸Šcookieçš„åŠŸèƒ½ã€‚ä¸æ˜¯å¾ˆæ¸…æ™°é€»è¾‘ï¼Œäºæ˜¯å­¦ä¹ äº†è§£äº†ä¸‹iOSä¸­cookieçš„ä½¿ç”¨ï¼Œåšä¸ªå°ç»“ã€‚è·³è¿‡æ¦‚å¿µç›´æ¥çœ‹"),a("a",{attrs:{href:"#example"}},[t._v("ä½¿ç”¨ğŸŒ°")])]),t._v(" "),a("h2",{attrs:{id:"cookieä»‹ç»"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cookieä»‹ç»"}},[t._v("#")]),t._v(" Cookieä»‹ç»")]),t._v(" "),a("p",[t._v("Cookieåˆ†ç±»ä¸¤ç±»ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("ä¼šè¯cookie")]),t._v(" "),a("li",[t._v("æŒä¹…cookie")])]),t._v(" "),a("p",[t._v("ä¼šè¯ cookie å’ŒæŒä¹… cookie ä¹‹é—´å”¯ä¸€çš„åŒºåˆ«å°±æ˜¯å®ƒä»¬çš„è¿‡æœŸæ—¶é—´ã€‚")]),t._v(" "),a("p",[a("strong",[t._v("cookieå¦‚ä½•å·¥ä½œ")])]),t._v(" "),a("p",[t._v("cookie ä¸­åŒ…å«äº†ä¸€ä¸ªç”± åå­— = å€¼ ï¼ˆname=valueï¼‰ è¿™æ ·çš„ä¿¡æ¯æ„æˆçš„ä»»æ„åˆ—è¡¨ï¼Œå¹¶é€šè¿‡ Set-Cookie æˆ– Set-Cookie2 HTTP å“åº”ï¼ˆæ‰© å±•ï¼‰é¦–éƒ¨å°†å…¶è´´åˆ°ç”¨æˆ·èº«ä¸Šå»ã€‚\n"),a("img",{attrs:{src:"http://qiniu.huyangjie.cn/coldreading/jpg/cookie%E5%B7%A5%E4%BD%9C.png-blog",alt:"cookieå·¥ä½œ"}})]),t._v(" "),a("p",[a("strong",[t._v("cookieç»„æˆ")]),t._v("\nç°åœ¨ä½¿ç”¨çš„ cookie è§„èŒƒæœ‰ä¸¤ä¸ªä¸åŒçš„ç‰ˆæœ¬ï¼šcookies ç‰ˆæœ¬ 0ï¼ˆæœ‰æ—¶è¢«ç§°ä¸º Netscape cookiesï¼‰ å’Œ cookies ç‰ˆ æœ¬ 1ï¼ˆRFC 2965ï¼‰ ã€‚ cookies ç‰ˆ æœ¬ 1 æ˜¯ å¯¹ cookies ç‰ˆ æœ¬ 0 çš„ æ‰© å±•ï¼Œåº”ç”¨ä¸å¦‚åè€…å¹¿æ³›ã€‚")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("cookieç‰ˆæœ¬0")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("Set-Cookie é¦–éƒ¨\nSet-Cookie é¦–éƒ¨æœ‰ä¸€ä¸ªå¼ºåˆ¶æ€§çš„cookieåå’Œcookieå€¼ã€‚åé¢è·Ÿç€å¯é€‰çš„cookie å±æ€§ï¼Œä¸­é—´ç”±åˆ†å·åˆ†éš”ã€‚\n"),a("img",{attrs:{src:"http://qiniu.huyangjie.cn/coldreading/jpg/setcookie%E9%A6%96%E9%83%A81.png-blog",alt:""}}),t._v(" "),a("img",{attrs:{src:"http://qiniu.huyangjie.cn/coldreading/jpg/setcookie%E9%A6%96%E9%83%A82.png-blog",alt:""}})])]),t._v(" "),a("li",[a("p",[t._v("cookie 0é¦–éƒ¨:")])])])])]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("Cookie: session-id=002-1145265-8016838; session-id-time=1007884800\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("ul",[a("li",[a("strong",[t._v("cookieç‰ˆæœ¬1")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("Set-Cookie2é¦–éƒ¨\nè¿™ä¸ªç‰ˆæœ¬ 1 æ ‡å‡†å¼•å…¥äº†Set-Cookie2é¦–éƒ¨å’ŒCookie2é¦–éƒ¨ï¼Œä½†å®ƒä¹Ÿèƒ½äºç‰ˆæœ¬0è¿›è¡Œäº¤äº’æ“ä½œã€‚\n"),a("img",{attrs:{src:"http://qiniu.huyangjie.cn/coldreading/jpg/setcookie2%E9%A6%96%E9%83%A8.png-blog",alt:""}})])]),t._v(" "),a("li",[a("p",[t._v("cookie 1é¦–éƒ¨:")])])])])]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('Cookie: $Version="1";\nID="29046"; $Domain=".joes-hardware.com";\ncolor="blue";\nCoupon="hammer027"; $Path="/tools";\nCoupon="handvac103"; $Path="/tools/cordless"\n')])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br")])]),a("h2",{attrs:{id:"nshttpcookiestorage"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nshttpcookiestorage"}},[t._v("#")]),t._v(" NSHTTPCookieStorage")]),t._v(" "),a("blockquote",[a("p",[t._v("NSHTTPCookieStorage implements a singleton object (shared instance) that manages storage of cookies. Each cookie is represented by an instance of the NSHTTPCookie class. As a rule, cookies are shared among all applications and are kept in sync across process boundaries. Session cookies (where the cookie objectâ€™s sessionOnly method returns YES) are local to a single process and are not shared.")])]),t._v(" "),a("p",[a("code",[t._v("NSHTTPCookieStorage")]),t._v("çš„å®ç°æ˜¯ä¸€ä¸ªå•ä¾‹å¯¹è±¡ï¼Œç®¡ç†ç€"),a("code",[t._v("NSHTTPCookie")]),t._v("å¯¹è±¡ï¼Œä¼šè¯cookieçš„ "),a("code",[t._v("sessionOnly")]),t._v("æ–¹æ³•è¿”å›"),a("code",[t._v("YES")]),t._v("å°±ä¸å¯åœ¨è¿›ç¨‹é—´å…±äº«ã€‚")]),t._v(" "),a("p",[t._v("ç„¶è€Œè‹¹æœåœ¨è¿™ä¸ªç±»çš„API Referenceä¸­å†™äº†ä¸€ä¸ª"),a("code",[t._v("iOS Note")]),t._v("ï¼š")]),t._v(" "),a("blockquote",[a("p",[t._v("Cookies are not shared among applications in iOS.")])]),t._v(" "),a("ul",[a("li",[a("p",[t._v("__iOS__ä¸­cookieä¸èƒ½è·¨åº”ç”¨å…±äº«")])]),t._v(" "),a("li",[a("p",[t._v("__MacOS__ä¸­"),a("code",[t._v("sessionOnly")]),t._v("ä¸ä¸º"),a("code",[t._v("YES")]),t._v("æ˜¯å¯ä»¥è¢«å…±äº«çš„")])])]),t._v(" "),a("p",[a("code",[t._v("NSHTTPCookieStorage")]),t._v("å¯ä»¥ç®¡ç†cookieçš„æ¥å—ç­–ç•¥ï¼Œåœ¨ä¸€ä¸ªappä¸­æ”¹å˜cookieçš„æ¥å—ç­–ç•¥å°†ä¼šå½±å“å…¶ä»–æ­£åœ¨è¿è¡Œçš„appçš„cookieæ¥å—ç­–ç•¥ã€‚")]),t._v(" "),a("p",[t._v("å½“å…¶ä»–çš„appä¿®æ”¹äº†cookieå­˜å‚¨ æˆ–è€… cookieæ¥å—ç­–ç•¥ï¼ŒNSHTTPCookieStorageå°†ä¼šç»™appå‘é€"),a("code",[t._v("NSHTTPCookieManagerCookiesChangedNotification")]),t._v("æˆ–è€…"),a("code",[t._v("NSHTTPCookieStorageAcceptPolicyChangedNotification")]),t._v("é€šçŸ¥")]),t._v(" "),a("p",[a("strong",[t._v("Cookieæ¥å—ç­–ç•¥ï¼š")]),t._v(" "),a("code",[t._v("NSHTTPCookieAcceptPolicy")])]),t._v(" "),a("div",{staticClass:"language-objectivec line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-objectivec"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typedef")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("NS_ENUM")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("NSUInteger"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" NSHTTPCookieAcceptPolicy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    NSHTTPCookieAcceptPolicyAlways"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//é»˜è®¤ç­–ç•¥ï¼Œæ¥å—æ‰€æœ‰çš„cookies")]),t._v("\n    NSHTTPCookieAcceptPolicyNever"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//æ‹’ç»æ‰€æœ‰çš„cookies")]),t._v("\n    NSHTTPCookieAcceptPolicyOnlyFromMainDocumentDomain"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//åªä»ä¸»æ–‡æ¡£åŸŸåæ¥å—cookies")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br")])]),a("h2",{attrs:{id:"nshttpcookie"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nshttpcookie"}},[t._v("#")]),t._v(" NSHTTPCookie")]),t._v(" "),a("blockquote",[a("p",[t._v("An NSHTTPCookie object represents an HTTP cookie. It is an immutable object, initialized from a dictionary containing the cookie attributes.")])]),t._v(" "),a("p",[a("code",[t._v("NSHTTPCookie")]),t._v("å¯¹è±¡ä¸­åŒ…å«äº†HTTP çš„cookieå¯¹è±¡ï¼Œä»åŒ…å«cookieå­—æ®µçš„å­—å…¸åˆå§‹åŒ–åˆ›å»ºã€‚")]),t._v(" "),a("blockquote",[a("p",[t._v("The NSHTTPCookie class encapsulates a cookie, providing accessors for many of the common cookie attributes. This class also provides methods to convert HTTP cookie headers to NSHTTPCookie instances and convert an NSHTTPCookie instance to headers suitable for use with an NSURLRequest object. The URL loading system automatically sends any stored cookies appropriate for an NSURLRequest object unless the request specifies not to send cookies. Likewise, cookies returned in an NSURLResponse object are accepted in accordance with the current cookie acceptance policy.")])]),t._v(" "),a("p",[a("code",[t._v("NSHTTPCookie")]),t._v("ç±»å°è£…äº†ä¸€ä¸ªHTTP Cookieï¼Œå¹¶æä¾›å¸¸è§çš„Cookieå±æ€§è®¿é—®æ¥å£ã€‚"),a("code",[t._v("NSHTTPCookie")]),t._v("å¯ä»¥è½¬æ¢HTTP CookieæˆNSHTTPCookieså¯¹è±¡ï¼Œå¹¶å¯ä»¥å°†NSHTTPCookieå¯¹è±¡è½¬åŒ–ä¸ºNSURLRequestå¯¹è±¡çš„è¯·æ±‚å¤´éƒ¨åˆ†ã€‚URL loading system ä¼šè‡ªåŠ¨åœ°ç»™NSURLRequestå¯¹è±¡å‘é€å­˜å‚¨çš„cookieï¼Œé™¤éNSURLRequestå¯¹è±¡æŒ‡å®šä¸éœ€è¦ä¼ cookieï¼ŒåŒæ ·cookieåœ¨NSURLRequestä¸­è¿”å›ä¹ŸæŒ‰ç…§å½“å‰çš„cookieæ¥å—ç­–ç•¥æ¥æ”¶ã€‚")]),t._v(" "),a("h2",{attrs:{id:"cookieä½¿ç”¨ğŸ’ªä¸ªğŸŒ°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cookieä½¿ç”¨ğŸ’ªä¸ªğŸŒ°"}},[t._v("#")]),t._v(" "),a("span",{attrs:{id:"example"}},[t._v("Cookieä½¿ç”¨ğŸ’ªä¸ªğŸŒ°")])]),t._v(" "),a("p",[t._v("Cookieç”Ÿæˆçš„æœ‰ä¸¤ä¸ªé€”å¾„ï¼Œä¸€ä¸ªæ˜¯è®¿é—®ä¸€ä¸ªç½‘é¡µï¼Œè¿™ä¸ªç½‘é¡µè¿”å›çš„HTTP Headerä¸­æœ‰Set-CookieæŒ‡ä»¤è¿›è¡ŒCookieçš„è®¾ç½®ï¼Œè¿™é‡ŒCookieçš„æœ¬åœ°å¤„ç†å…¶å®æ˜¯ç”±WebKitè¿›è¡Œçš„ï¼›è¿˜æœ‰ä¸€ç§é€”å¾„å°±æ˜¯å®¢æˆ·ç«¯é€šè¿‡ä»£ç æ‰‹åŠ¨è®¾ç½®Cookieã€‚")]),t._v(" "),a("p",[t._v("å€¼å¾—æ³¨æ„"),a("a",{attrs:{href:"http://geeklu.com/2013/04/ios-cookie/",target:"_blank",rel:"noopener noreferrer"}},[t._v("iOS Cookieä½¿ç”¨"),a("OutboundLink")],1),t._v("æåˆ°ï¼š\nNSHTTPCookieStorageå­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼ŒsetCookieæˆ–è€…deleteCookieåå¹¶ä¸ä¼šç«‹å³è¿›è¡ŒæŒä¹…åŒ–ï¼Œè€Œæ˜¯æœ‰å‡ ç§’çš„å»¶è¿Ÿã€‚ä¸ºäº†å¯é æ€§ï¼Œæˆ‘ä»¬ä¼šå°†cookieä¿¡æ¯ä¿å­˜ä¸€ä»½åˆ°User Defaultsï¼Œéœ€è¦ç”¨çš„æ—¶å€™loadè¿›æ¥ã€‚")]),t._v(" "),a("ul",[a("li",[t._v("å®¢æˆ·ç«¯æ‰‹åŠ¨è®¾ç½®Cookie")])]),t._v(" "),a("div",{staticClass:"language-objectivec line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-objectivec"}},[a("code",[t._v("NSMutableDictionary "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("cookieProperties "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("NSMutableDictionary dictionary"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("cookieProperties setObject"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('@"name"')]),t._v(" forKey"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("NSHTTPCookieName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("cookieProperties setObject"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('@"value"')]),t._v(" forKey"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("NSHTTPCookieValue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("cookieProperties setObject"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('@"www.taobao.com"')]),t._v(" forKey"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("NSHTTPCookieDomain"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("cookieProperties setObject"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('@"/"')]),t._v(" forKey"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("NSHTTPCookiePath"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("cookieProperties setObject"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('@"0"')]),t._v(" forKey"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("NSHTTPCookieVersion"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("cookieProperties setObject"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('@"30000"')]),t._v(" forKey"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("NSHTTPCookieMaximumAge"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nNSHTTPCookie "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("cookie "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("NSHTTPCookie cookieWithProperties"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("cookieProperties"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("NSHTTPCookieStorage sharedHTTPCookieStorage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" setCookie"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("cookie"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//åˆ é™¤cookieçš„æ–¹æ³•ä¸ºdeleteCookie:")]),t._v("\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br")])]),a("p",[t._v("åœ¨é€šè¿‡setCookie:è¿›è¡Œè®¾ç½®cookieçš„æ—¶å€™ï¼Œä¼šè¦†ç›–name,domain,pathéƒ½ç›¸åŒçš„cookieçš„ã€‚\nè‡³äºcookieä¼šä¸ä¼šæŒä¹…åŒ–åˆ°cookieæ–‡ä»¶ä¸­ä¸»è¦çœ‹è¿™ä¸ªcookieçš„ç”Ÿå‘½å‘¨æœŸï¼Œå’ŒMax-Ageæˆ–è€…Expiresæœ‰å…³ã€‚")]),t._v(" "),a("ul",[a("li",[t._v("é€šè¿‡HTTP Headerçš„Set-Cookieåè€…Set-Cookie2è®¾ç½®Cookie")])]),t._v(" "),a("div",{staticClass:"language-objectivec line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-objectivec"}},[a("code",[t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//è¯·æ±‚ä¸€ä¸ªç½‘å€ï¼Œå³å¯åˆ†é…åˆ°cookie")]),t._v("\n    AFHTTPRequestOperationManager "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("manager "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("AFHTTPRequestOperationManager manager"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    manager"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("responseSerializer "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("AFJSONResponseSerializer new"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("manager GET"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("urlString parameters"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("nil success"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("AFHTTPRequestOperation "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("operation"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" id responseObject"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n \n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//è·å–cookie")]),t._v("\n        NSArray "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("cookies "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("NSHTTPCookieStorage sharedHTTPCookieStorage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" cookies"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        \n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/*\n         * æŠŠcookieè¿›è¡Œå½’æ¡£å¹¶è½¬æ¢ä¸ºNSDataç±»å‹\n         * æ³¨æ„ï¼šcookieä¸èƒ½ç›´æ¥è½¬æ¢ä¸ºNSDataç±»å‹ï¼Œå¦åˆ™ä¼šå¼•èµ·å´©æºƒã€‚\n         * æ‰€ä»¥å…ˆè¿›è¡Œå½’æ¡£å¤„ç†ï¼Œå†è½¬æ¢ä¸ºData\n         */")]),t._v("\n        NSData "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("cookiesData "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("NSKeyedArchiver archivedDataWithRootObject"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("NSHTTPCookieStorage sharedHTTPCookieStorage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" cookies"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n \n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//å­˜å‚¨å½’æ¡£åçš„cookie")]),t._v("\n        NSUserDefaults "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("userDefaults "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("NSUserDefaults standardUserDefaults"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("userDefaults setObject"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" cookiesData forKey"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('@"cookie"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("self")]),t._v(" setCookie"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        \n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" failure"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("AFHTTPRequestOperation "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("operation"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" NSError "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("error"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n \n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    \n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("setCookie\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//å–å‡ºä¿å­˜çš„cookie")]),t._v("\n    NSUserDefaults "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("userDefaults "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("NSUserDefaults standardUserDefaults"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n \n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//å¯¹å–å‡ºçš„cookieè¿›è¡Œåå½’æ¡£å¤„ç†")]),t._v("\n    NSArray "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("cookies "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("NSKeyedUnarchiver unarchiveObjectWithData"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("userDefaults objectForKey"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('@"cookie"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n \n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("cookies"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//è®¾ç½®cookie")]),t._v("\n        NSHTTPCookieStorage "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("cookieStorage "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("NSHTTPCookieStorage sharedHTTPCookieStorage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id cookie "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" cookies"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("cookieStorage setCookie"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("NSHTTPCookie "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("cookie"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("NSLog")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('@"æ— cookie"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("  \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br"),a("span",{staticClass:"line-number"},[t._v("30")]),a("br"),a("span",{staticClass:"line-number"},[t._v("31")]),a("br"),a("span",{staticClass:"line-number"},[t._v("32")]),a("br"),a("span",{staticClass:"line-number"},[t._v("33")]),a("br"),a("span",{staticClass:"line-number"},[t._v("34")]),a("br"),a("span",{staticClass:"line-number"},[t._v("35")]),a("br"),a("span",{staticClass:"line-number"},[t._v("36")]),a("br"),a("span",{staticClass:"line-number"},[t._v("37")]),a("br"),a("span",{staticClass:"line-number"},[t._v("38")]),a("br"),a("span",{staticClass:"line-number"},[t._v("39")]),a("br"),a("span",{staticClass:"line-number"},[t._v("40")]),a("br"),a("span",{staticClass:"line-number"},[t._v("41")]),a("br"),a("span",{staticClass:"line-number"},[t._v("42")]),a("br")])]),a("h2",{attrs:{id:"å‚è€ƒ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å‚è€ƒ"}},[t._v("#")]),t._v(" å‚è€ƒ")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://developer.apple.com/reference/foundation/nshttpcookiestorage",target:"_blank",rel:"noopener noreferrer"}},[t._v("NSHTTPCookieStorage"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://developer.apple.com/library/prerelease/content/documentation/Cocoa/Conceptual/URLLoadingSystem/CookiesandCustomProtocols/CookiesandCustomProtocols.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Cookies and Custom Protocols"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"http://geeklu.com/2013/04/ios-cookie/",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://geeklu.com/2013/04/ios-cookie/"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"http://blog.it985.com/11248.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://blog.it985.com/11248.html"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("em",[t._v("ã€ŠHTTP æƒå¨æŒ‡å—ã€‹ç¬¬11ç«  å®¢æˆ·ç«¯è¯†åˆ«ä¸cookieæœºåˆ¶")])]),t._v(" "),a("h2",{attrs:{id:"ç›¸å…³å¯¼å¼•"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç›¸å…³å¯¼å¼•"}},[t._v("#")]),t._v(" ç›¸å…³å¯¼å¼•")]),t._v(" "),a("p",[t._v("è§£å†³UIWebViewå’ŒWKWebViewä¹‹é—´çš„cookieå…±äº«é—®é¢˜ï¼š")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://fengqiangboy.com/14611518603473.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("iOSå¼€å‘-æ‰“é€šUIWebViewå’ŒWKWebViewçš„Cookie"),a("OutboundLink")],1)])])}),[],!1,null,null,null);s.default=n.exports}}]);