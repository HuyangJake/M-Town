(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{360:function(s,t,n){"use strict";n.r(t);var a=n(0),e=Object(a.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h2",{attrs:{id:"关于rn-checkbox组件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#关于rn-checkbox组件"}},[s._v("#")]),s._v(" 关于RN CheckBox组件")]),s._v(" "),n("p",[s._v("在写hello world过程中iOS同学发现CheckBox组件展示不了，但是文档上确确实实是存在这个组件的介绍的，只不过没有demo。")]),s._v(" "),n("p",[s._v("我查了源码的"),n("code",[s._v("CheckBox")]),s._v("实现和发布说明发现以下信息，分享下：")]),s._v(" "),n("p",[n("code",[s._v("CheckBox")]),s._v(" 这个组件是在 RN "),n("code",[s._v("v0.49.0")]),s._v("版本引入，这是"),n("code",[s._v("CheckBox")]),s._v("的首现版本的说明：")]),s._v(" "),n("p",[s._v("https://github.com/facebook/react-native/releases/tag/v0.49.0")]),s._v(" "),n("p",[s._v("可以看到当时只是发布在了Android的新功能列表中")]),s._v(" "),n("p",[s._v("以下是"),n("code",[s._v("0.49.0")]),s._v("版本中关于"),n("code",[s._v("CheckBox")]),s._v("的源码：\nhttps://github.com/facebook/react-native/commit/84b11dd5185c017a316510de6ace608dc82321e8")]),s._v(" "),n("p",[s._v("commit 记录中也说明是Android的功能")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("Add Android React Native Checkbox\nReviewed By: achen1\nDifferential Revision: D5281736\nfbshipit-source-id: 9a3c93eeace2d80be4ddbd4ffc3258c1d3637480\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("hr"),s._v(" "),n("p",[s._v("后来估计很多iOS的同学去使用了"),n("code",[s._v("CheckBox")]),s._v("，毕竟文档中没有特别说明只有Android可以使用(iOS同学使用会报错)。于是在"),n("code",[s._v("v0.50.0")]),s._v("版本的更新说明中，特地对"),n("code",[s._v("CheckBox")]),s._v("添加了注释，并修改文件名，加了"),n("code",[s._v("Android")]),s._v("字样🙃")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v(" ../Libraries/Components/CheckBox/CheckBox.js\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("修改为：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("'../Libraries/Components/CheckBox/CheckBox.android.js',\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("并且添加了一个新的文件iOS版本的"),n("code",[s._v("CheckBox")]),s._v("！喜出望外！")]),s._v(" "),n("p",[n("img",{attrs:{src:"http://o8ajh91ch.bkt.clouddn.com/CheckBoxList.png",alt:""}})]),s._v(" "),n("p",[s._v("结果iOS的实现如下：\n"),n("img",{attrs:{src:"http://o8ajh91ch.bkt.clouddn.com/CheckBox_iOS.png",alt:""}})]),s._v(" "),n("p",[s._v("🤔🤔🤔思考人生...🤔🤔🤔")]),s._v(" "),n("p",[s._v("以下是这次（"),n("code",[s._v("0.50.0")]),s._v("）关于"),n("code",[s._v("CheckBox")]),s._v("的commit信息")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('\nUse UnimplementedView for CheckBox on iOS\n\nSummary:\n`CheckBox` component was introduced in v0.49.0 and not implemented on iOS.\n\nUsers who are trying to use `CheckBox` on iOS will get a warning that\n> Native component for "AndroidCheckBox" does not exist\n\nWe should declare in the document that this component is Android only and use `UnimplementedView` for iOS.\n\n- Use `react-native init` new project\n- Apply pull request changes\n- Add `<Checkbox />` after welcome text in `App.js`\n- Run the app in iOS simulator\nCloses #16211\n\nDifferential Revision: D6005393\n\nPulled By: hramos\n\nfbshipit-source-id: 1c9b68b5e1c933496c4d7c2f487f0500264b603a\n\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br")])]),n("p",[s._v("提取一下关键字眼：")]),s._v(" "),n("blockquote",[n("p",[s._v("use "),n("code",[s._v("UnimplementedView")]),s._v(" for iOS.")])]),s._v(" "),n("hr"),s._v(" "),n("p",[n("code",[s._v("UnimplementedView")]),s._v("是啥？一脸懵X")]),s._v(" "),n("p",[s._v("查源码呗，以下是"),n("code",[s._v("UnimplementedView.js")]),s._v("中的实现 "),n("a",{attrs:{href:"https://github.com/facebook/react-native/blob/26684cf3adf4094eb6c405d345a75bf8c7c0bf88/Libraries/Components/UnimplementedViews/UnimplementedView.js",target:"_blank",rel:"noopener noreferrer"}},[s._v("源码地址"),n("OutboundLink")],1)]),s._v(" "),n("div",{staticClass:"language-javascript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UnimplementedView")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extends")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("React"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Component")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("$FlowFixMeProps"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("setNativeProps")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Do nothing.")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// This method is required in order to use this view as a Touchable* child.")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// See ensureComponentIsNative.js for more info")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("render")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Workaround require cycle from requireNativeComponent")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" View "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'View'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("View style"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("styles"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("unimplementedView"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("props"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("style"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("props"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("children"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("View"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" styles "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" StyleSheet"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("create")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  unimplementedView"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" __DEV__\n    "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        alignSelf"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'flex-start'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        borderColor"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'red'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        borderWidth"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br")])]),n("p",[s._v("可以看到，这个"),n("code",[s._v("UnimplementedView")]),s._v("在DEV模式下会提供1个单位的红框（如果我们使用的时候没有指定style）。 除此之外就是个空的View...")]),s._v(" "),n("p",[s._v("所以iOS的同学要使用类似"),n("code",[s._v("CheckBox")]),s._v("的组件，就自己实现或者找三方法的实现吧。\n其实，"),n("code",[s._v("CheckBox")]),s._v("的单选功能，对应在iOS上的组件应该是"),n("code",[s._v("Switch")]),s._v("控件喽，多选的话我一般是使用"),n("code",[s._v("Button")]),s._v("实现。")]),s._v(" "),n("p",[s._v("见仁见智，网上也有别人实现的"),n("code",[s._v("CheckBox")]),s._v("，例如今天被我误解为RN自带库的这家伙（谁让他名字这么官方范）："),n("a",{attrs:{href:"https://www.npmjs.com/package/react-native-checkbox",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://www.npmjs.com/package/react-native-checkbox"),n("OutboundLink")],1),s._v(", 不过这Star数也不多哈哈。")]),s._v(" "),n("p",[s._v("之后使用的时候多多尝试吧~")])])}),[],!1,null,null,null);t.default=e.exports}}]);